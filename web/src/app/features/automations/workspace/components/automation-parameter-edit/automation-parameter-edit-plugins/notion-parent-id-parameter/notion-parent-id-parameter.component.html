@if (pages$ | async; as pages) {
  <div
    class="flex flex-col overflow-y-auto max-h-96 bg-secondary rounded-md p-3 space-y-3 border">
    @for (page of pages; track page.id) {
      <button
        trBtn
        variant="outline"
        class="flex flex-row bg-white items-center justify-between w-full p-7 text-left"
        (click)="selectPage(page)"
        [ngClass]="isPageSelected(page) ? 'text-primary' : 'text-gray-900'">
        <div class="flex-shrink-0 mr-4">
          @if (page.icon) {
            <img
              [src]="page.icon"
              alt="Page Icon"
              class="w-5 h-5"
              onerror="this.src='assets/notion-default.png'" />
          } @else {
            <ng-icon name="heroDocument" size="1.3rem" class="text-gray-400" />
          }
        </div>

        <div class="flex flex-col flex-grow">
          <span class="tr-large font-medium">{{ page.title }}</span>
        </div>

        @if (isPageSelected(page)) {
          <ng-icon
            name="heroCheckCircle"
            size="1.5rem"
            class="flex-shrink-0 ml-2" />
        }
      </button>
    }
  </div>
}
