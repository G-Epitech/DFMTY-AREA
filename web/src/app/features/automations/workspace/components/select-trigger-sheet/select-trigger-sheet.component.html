<tr-sheet side="right">
  <button brnSheetTrigger class="w-full">
    <tr-trigger-card [trigger]="trigger()" />
  </button>
  <tr-sheet-content *brnSheetContent="let ctx" class="flex flex-col h-full">
    <tr-sheet-header>
      <h3 trSheetTitle>Edit Trigger</h3>
      <span trSheetDescription>Edit the trigger for this automation</span>
    </tr-sheet-header>
    @switch (selectionStep()) {
      @case (TriggerSelectionStep.MAIN) {
        <div class="grid gap-4">
          <div>
            <span class="tr-large">Select Integration</span>
            <button
              trBtn
              class="w-full text-left items-center justify-start gap-1"
              variant="outline"
              (click)="selectIntegration()">
              <ng-icon name="heroBolt" size="1.1rem" />
              No Integration Selected
            </button>
          </div>
        </div>
      }
      @case (TriggerSelectionStep.INTEGRATION) {
        <tr-integration-selection />
      }
    }
    <div class="mt-auto flex flex-row justify-end">
      @if (selectionStep() === TriggerSelectionStep.MAIN) {
        <button trBtn type="submit" class="w-[50%]">Save</button>
      } @else {
        <button trBtn class="w-[50%]" variant="outline" (click)="back()">
          Back
        </button>
      }
    </div>
  </tr-sheet-content>
</tr-sheet>
